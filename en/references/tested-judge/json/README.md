---
title: TESTed JSON-testplans
description: "TESTed JSON-testplans"
sidebarDepth: 2
---

::: warning Warning
The JSON-testplans are only for advanced users of TESTed.
The [DSL-testplans](../dsl) is recommended to be used in any other case.
:::

# TESTed JSON-testplans
The JSON-testplan supports all possible configuration options and evaluations that are supported by TESTed.
The complete JSON-schema for these testplans could be found
<a href="/tested-json-testplan-schema.json" target="_blank">here</a>.

The purpose of this documentation is to give an overview of all parameters that in the JSON-testplan could be set.
Therefore we will also use partial JSON-schemes.

Examples of the JSON-testplans and evaluators could be found at the
[GitHub repository](https://github.com/dodona-edu/universal-judge/tree/master/exercise) of TESTed.

## The toplevel object
This object has two attributes: `namespace` and `tabs:
- **namespace**: The `namespace` is the namespace is the name of the submission solution file (`<namespace>.<ext>`).
  The `namespace` is also the namespace of the code.
  The default namespace is `submission`.
  :::tip Hint
  The namespace is best notated in `snake_case`,
  which enables to use the right style convention foreach programming language.
  :::
- **tabs**: The `tabs` object is a list of all [tabs](#tab) that must be executed.

```json
"Plan": {
  "title": "Plan",
  "type": "object",
  "properties": {
    "tabs": {
      "title": "Tabs",
      "type": "array",
      "items": {
        "$ref": "#/definitions/Tab"
      }
    },
    "namespace": {
      "title": "Namespace",
      "type": "string"
    }
  }
}
```

## Tab
Tabs in the testplan correspond with the visualisation at Dodona.
A tab contains a list of runs that must be executed.

A tab has 3 attributes: `name`, `hidden` en `runs`.
- **name**: This is the name of tab, as presented at Dodona.
- **hidden**: This is a boolean that indicates if tab may be hidden, if all testcases succeeded.
- **runs**: This is a list of all [runs](#run) (generated executables) that must be executed.

```json
"Tab": {
  "title": "Tab",
  "type": "object",
  "properties": {
    "name": {
      "title": "Name",
      "type": "string"
    },
    "runs": {
      "title": "Runs",
      "type": "array",
      "items": {
        "$ref": "#/definitions/Run"
      }
    },
    "hidden": {
      "title": "Hidden",
      "type": "boolean"
    }
  },
  "required": [
    "name",
    "runs"
  ]
},
```

## Run
A run is a generated executable,
that will contain a collections of contexts and also a testcase that evaluates the written program.

A run has two attributes: `run` and `contexts`.
- **run**: This is the testcase that executes the written program (see [The Run](#the-run)).
- **contexts**: This is a list of all [contexts](#context) that must be executed.

```json
"Run": {
  "title": "Run",
  "type": "object",
  "properties": {
    "run": {
      "title": "Run",
      "allOf": [
        {
          "$ref": "#/definitions/RunTestcase"
        }
      ]
    },
    "contexts": {
      "title": "Contexts",
      "type": "array",
      "items": {
        "$ref": "#/definitions/Context"
      }
    }
  }
},
```

## The Run
The *Run* is a testcase that executes the written program.
This will be visualised as a separate context at Dodona.

The *Run* has 4 attributes: `input`, `output`, `description` en `link_files`.
- **input**: The [input data](#runinput) voor the program.
- **output**: The [expected output](#runoutput) for the program and evaluators.
- **description**: The description to display at Dodona.
  When the `description` isn't given, it will be generated by TESTed.
- **link_files**: The list of files that must be linked in the feedback (See [FileUrl](#fileurl)).

```json
"RunTestcase": {
  "title": "RunTestcase",
  "type": "object",
  "properties": {
    "input": {
      "title": "Input",
      "allOf": [
        {
          "$ref": "#/definitions/RunInput"
        }
      ]
    },
    "output": {
      "title": "Output",
      "allOf": [
        {
          "$ref": "#/definitions/RunOutput"
        }
      ]
    },
    "description": {
      "title": "Description",
      "type": "string"
    },
    "link_files": {
      "title": "Link Files",
      "type": "array",
      "items": {
        "$ref": "#/definitions/FileUrl"
      }
    }
  }
},
```

### RunInput
The *RunInput*-object contains all information the run the program test.

The *RunInput*-object has 3 attributes: `stdin`, `arguments` and `main_call`.
- **stdin**: The given input at standard input.
  This could either be the empty channel ([EmptyChannel](#emptychannel)),
  or [TextData](#textdata) which contains a file location or string.
- **arguments**: The list of program arguments, these must be strings.
- **main_call**: This a boolean that indicates if the program test must be executed.
  Default will the program test not be executed.
  
```json
"RunInput": {
  "title": "RunInput",
  "type": "object",
  "properties": {
    "stdin": {
      "title": "Stdin",
      "anyOf": [
        {
          "$ref": "#/definitions/TextData"
        },
        {
          "$ref": "#/definitions/EmptyChannel"
        }
      ]
    },
    "arguments": {
      "title": "Arguments",
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "main_call": {
      "title": "Main Call",
      "type": "boolean"
    }
  }
},
```

### RunOutput
The *RunOutput*-object contains all information that is needed to evaluated the *program* output.

The *RunOutput*-object has 5 attributes: `stdout`, `stderr`, `file`, `exception`, `exit_code`.
- **stdout** and **stderr**: The output channel for standard output and error.
  The possible output channels are:
  - [EmptyChannel](#emptychannel): No output is expected on this channel.
    This is the default option.
  - [IgnoreChannel](#ignorechannel): No output is expected on this channel, but given output is ignored.
  - [TextOutputChannel](#textoutputchannel): Some output is expected on this channel.
- **file**: The output channel for a file.
  The possible output channels are:
  - [IgnoreChannel](#ignorechannel): No output is expected on this channel, but given output is ignored.
    This is the default option.
  - [FileOutputChannel](#fileoutputchannel): A file is expected as output.
    
  ::: warning Remark
  At this moment TESTed only supports one expected file for one program test.
  :::
  ::: warning Remark
  At this moment TESTed can't check if no files are generated by the program.
  :::
- **exception**: The outputchannel for an exception.
  The possible output channels are:
  - [EmptyChannel](#emptychannel): No exception is expected.
    This is the default option.
  - [IgnoreChannel](#ignorechannel): No exception is expected, but a thrown exception is ignored.
  - [ExceptionOutputChannel](#exceptionoutputchannel): An exception is expected to be thrown.
- **exit_code**: The outputchannel for the exit code of the program.
  The exit code must be passed in the object [ExitCodeOutputChannel](#exitcodeoutputchannel).
  Default is `0` expected as exit code.
  
```json
"RunOutput": {
  "title": "RunOutput",
  "type": "object",
  "properties": {
    "stdout": {
      "title": "Stdout",
      "anyOf": [
        {
          "$ref": "#/definitions/TextOutputChannel"
        },
        {
          "$ref": "#/definitions/EmptyChannel"
        },
        {
          "$ref": "#/definitions/IgnoredChannel"
        }
      ]
    },
    "stderr": {
      "title": "Stderr",
      "anyOf": [
        {
          "$ref": "#/definitions/TextOutputChannel"
        },
        {
          "$ref": "#/definitions/EmptyChannel"
        },
        {
          "$ref": "#/definitions/IgnoredChannel"
        }
      ]
    },
    "file": {
      "title": "File",
      "anyOf": [
        {
          "$ref": "#/definitions/FileOutputChannel"
        },
        {
          "$ref": "#/definitions/IgnoredChannel"
        }
      ]
    },
    "exception": {
      "title": "Exception",
      "anyOf": [
        {
          "$ref": "#/definitions/ExceptionOutputChannel"
        },
        {
          "$ref": "#/definitions/EmptyChannel"
        },
        {
          "$ref": "#/definitions/IgnoredChannel"
        }
      ]
    },
    "exit_code": {
      "title": "Exit Code",
      "allOf": [
        {
          "$ref": "#/definitions/ExitCodeOutputChannel"
        }
      ]
    }
  }
},
```

